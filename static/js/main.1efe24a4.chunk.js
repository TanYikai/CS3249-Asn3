(this.webpackJsonpfinal_thermostat=this.webpackJsonpfinal_thermostat||[]).push([[0],{21:function(e,t,n){e.exports=n(29)},26:function(e,t,n){},27:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(19),i=n.n(o),s=(n(26),n(10)),c=n(11),l=n(13),u=n(12),h=n(14),m=(n(27),n(32)),d=n(31),f=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.viewboxCenter,n=e.radius,a=e.styles;return r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:t,cy:t,r:1.1*n,stroke:"#efefef",strokeWidth:"9",fill:"#fefdf9"}),r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"gradient"},r.a.createElement("stop",{offset:"0%",stopColor:"#289beb"}),r.a.createElement("stop",{offset:"100%",stopColor:"#ff6a63"}))),r.a.createElement("circle",{cx:t,cy:t,r:n,stroke:"url(#gradient)",strokeWidth:"6",style:a.circle}),r.a.createElement("path",{id:"arc1",fill:"none",stroke:"#50575f","stroke-width":"6",d:"M 171.44247806269212 453.2088886237956 A 200 200 0 0 0 428.5575219373079 453.2088886237956"}),r.a.createElement("svg",{x:.95*t,y:1.4*t,fill:"#323c45",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"32px",height:"32px"},r.a.createElement("path",{d:"M 15 3 L 15 8 L 17 8 L 17 3 Z M 7.5 6.09375 L 6.09375 7.5 L 9.625 11.0625 L 11.0625 9.625 Z M 24.5 6.09375 L 20.9375 9.625 L 22.375 11.0625 L 25.90625 7.5 Z M 16 9 C 12.144531 9 9 12.144531 9 16 C 9 19.855469 12.144531 23 16 23 C 19.855469 23 23 19.855469 23 16 C 23 12.144531 19.855469 9 16 9 Z M 16 11 C 18.773438 11 21 13.226563 21 16 C 21 18.773438 18.773438 21 16 21 C 13.226563 21 11 18.773438 11 16 C 11 13.226563 13.226563 11 16 11 Z M 3 15 L 3 17 L 8 17 L 8 15 Z M 24 15 L 24 17 L 29 17 L 29 15 Z M 9.625 20.9375 L 6.09375 24.5 L 7.5 25.90625 L 11.0625 22.375 Z M 22.375 20.9375 L 20.9375 22.375 L 24.5 25.90625 L 25.90625 24.5 Z M 15 24 L 15 29 L 17 29 L 17 24 Z"})))}}]),t}(a.Component),p=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=this.props,t=e.viewboxCenter,n=e.thumbRadFrmCtr,a=e.styles,o=e.posX,i=e.posY,s=e.mouseDown,c=e.toRad,l=[],u=120;u<=420;u+=5){var h=t+n*Math.cos(c(u)),m=t+n*Math.sin(c(u)),d=r.a.createElement("ellipse",{key:["tick-",u].join(""),cx:h,cy:m,rx:"17",ry:"2",style:{fill:"#c5cacd",transformOrigin:"".concat(h,"px ").concat(m,"px"),transform:"rotate(".concat(u,"deg)")}});l.push(d)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("g",null,l),r.a.createElement("ellipse",{cx:o,cy:i,rx:17,ry:7,onMouseDown:s,stroke:"white",strokeWidth:"2",style:a.ellipse}))}}]),t}(a.Component),g=function(e){return e.currTemp>e.targetTemp},v=function(e){return e.currTemp<e.targetTemp},b=function(e){return e.currTemp===e.targetTemp},w=Object(m.a)({id:"thermostat",context:{currTemp:0,targetTemp:0},initial:"off",states:{off:{on:{"":[{target:"cooling",cond:g},{target:"heating",cond:v}]}},cooling:{on:{"":[{target:"off",cond:b},{target:"cooling",cond:g}]}},heating:{on:{"":[{target:"off",cond:b},{target:"heating",cond:v}]}}}}),x=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).service=Object(d.a)(w).onTransition((function(e){return n.setState({current:e})})),n.handleOnChange=function(e){n.setState({currentTemperature:e.target.value}),n.handleModechange()},n.handleMouseDown=function(){document.addEventListener("mousemove",n.handleMouseMove)},n.handleMouseMove=function(e){n.handleUpdateTargetTemp(e),n.handleModechange()},n.handleMouseUp=function(){document.removeEventListener("mousemove",n.handleMouseMove)},n.handleUpdateTargetTemp=function(e){var t=2*Math.PI/3,a=n.ref.current.getBoundingClientRect();n.center=a.width/2;var r=n.restrictToRange(n.toDeg((Math.atan2(e.clientY-a.top-n.center,e.clientX-a.left-n.center)-t+2*Math.PI)%(2*Math.PI)),0,300),o=r/10+50;n.setState({angle:r,targetTemperature:o,posX:n.viewboxCenter+n.thumbRadFrmCtr*Math.cos(n.toRad(r)+t),posY:n.viewboxCenter+n.thumbRadFrmCtr*Math.sin(n.toRad(r)+t)})},n.handleModechange=function(){var e,t,a,r=(e=n.state.currentTemperature,t=n.state.targetTemperature,a=n.state.mode,e>t+2+1.5?"cooling":e<t-2-1?"heating":t-1<e&&e<t+.5?"off":a);n.setState({mode:r})},n.ref=r.a.createRef(),n.thumbRadFrmCtr=170,n.viewboxWidth=600,n.viewboxCenter=n.viewboxWidth/2,n.radius=200,n.state={currentTemperature:72,targetTemperature:72,mode:"off",angle:220,posX:n.viewboxCenter+n.thumbRadFrmCtr*Math.cos(n.toRad(340)),posY:n.viewboxCenter+n.thumbRadFrmCtr*Math.sin(n.toRad(340)),current:w.initialState},document.addEventListener("mouseup",n.handleMouseUp),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.service.start()}},{key:"componentWillUnmount",value:function(){this.service.stop()}},{key:"getStyles",value:function(){var e="#586369";return"heating"===this.state.mode?e="#ff6a63":"cooling"===this.state.mode&&(e="#289beb"),{dial:{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",display:"flex",marginLeft:"auto",marginRight:"auto",marginTop:"7%",marginBottom:"7%"},circle:{fill:e,WebkitTransition:"fill 0.5s",transition:"fill 0.5s"},ellipse:{fill:"yellow",WebkitTransition:"fill 0.5s",transition:"fill 0.5s",transformOrigin:"".concat(this.state.posX,"px ").concat(this.state.posY,"px"),transform:"rotate(".concat(this.state.angle+120,"deg)")},target:{fill:"white",textAnchor:"middle",fontFamily:"Helvetica, sans-serif",alignmentBaseline:"central",fontSize:"120px",fontWeight:"bold",visibility:this.props.away?"hidden":"visible"},current:{fill:"white",textAnchor:"middle",fontFamily:"Helvetica, sans-serif",alignmentBaseline:"central",fontSize:"40px",fontWeight:"bold"}}}},{key:"restrictToRange",value:function(e,t,n){return e<t?t:e>n?n:Math.round(e)}},{key:"toDeg",value:function(e){return 180*e/Math.PI}},{key:"toRad",value:function(e){return e*Math.PI/180}},{key:"render",value:function(){var e=this.getStyles();this.state.current,this.service.send;return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{ref:this.ref,width:"30%",height:"30%",style:e.dial,viewBox:"0 0 ".concat(this.viewboxWidth," ").concat(this.viewboxWidth)},r.a.createElement(f,{viewboxCenter:this.viewboxCenter,radius:this.radius,styles:e}),r.a.createElement(p,{viewboxCenter:this.viewboxCenter,thumbRadFrmCtr:this.thumbRadFrmCtr,styles:e,posX:this.state.posX,posY:this.state.posY,mouseDown:this.handleMouseDown,toRad:this.toRad}),r.a.createElement("text",{x:this.viewboxCenter,y:1.1*this.viewboxCenter,style:e.target},Math.round(this.state.targetTemperature)),r.a.createElement("text",{x:this.viewboxCenter,y:1.3*this.viewboxCenter,style:e.current},"Current: ",Math.round(this.state.currentTemperature))),r.a.createElement("label",{id:"test_UI"},r.a.createElement("span",null,"Set Current Temperature "),r.a.createElement("input",{type:"range",min:32,max:100,value:Math.round(this.state.currentTemperature),id:"input_target_temperature",onChange:this.handleOnChange})),r.a.createElement("a",{href:"https://icons8.com/icon/16270/sun"},"Sun icon by Icons8"))}}]),t}(a.Component),y=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(x,null)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.1efe24a4.chunk.js.map